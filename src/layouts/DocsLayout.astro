---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <div class="flex min-h-screen">
    <aside class="w-64 bg-white border-r border-gray-200 fixed h-full overflow-y-auto">
      <div class="p-6">
        <h1 class="text-2xl font-bold text-gray-900 mb-8">
          <a href="/moat" class="hover:text-blue-600">Moat</a>
        </h1>
        <nav class="space-y-6">
          <div>
            <h2 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">
              Getting Started
            </h2>
            <ul class="space-y-2">
              <li><a href="/moat/getting-started/introduction" class="text-gray-700 hover:text-blue-600 block">Introduction</a></li>
              <li><a href="/moat/getting-started/installation" class="text-gray-700 hover:text-blue-600 block">Installation</a></li>
              <li><a href="/moat/getting-started/quick-start" class="text-gray-700 hover:text-blue-600 block">Quick Start</a></li>
              <li><a href="/moat/getting-started/comparison" class="text-gray-700 hover:text-blue-600 block">Comparison</a></li>
            </ul>
          </div>

          <div>
            <h2 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">
              Concepts
            </h2>
            <ul class="space-y-2">
              <li><a href="/moat/concepts/sandboxing" class="text-gray-700 hover:text-blue-600 block">Sandboxing</a></li>
              <li><a href="/moat/concepts/credentials" class="text-gray-700 hover:text-blue-600 block">Credentials</a></li>
              <li><a href="/moat/concepts/audit-logs" class="text-gray-700 hover:text-blue-600 block">Audit Logs</a></li>
              <li><a href="/moat/concepts/observability" class="text-gray-700 hover:text-blue-600 block">Observability</a></li>
              <li><a href="/moat/concepts/networking" class="text-gray-700 hover:text-blue-600 block">Networking</a></li>
              <li><a href="/moat/concepts/dependencies" class="text-gray-700 hover:text-blue-600 block">Dependencies</a></li>
            </ul>
          </div>

          <div>
            <h2 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">
              Guides
            </h2>
            <ul class="space-y-2">
              <li><a href="/moat/guides/running-claude-code" class="text-gray-700 hover:text-blue-600 block">Running Claude Code</a></li>
              <li><a href="/moat/guides/running-codex" class="text-gray-700 hover:text-blue-600 block">Running Codex</a></li>
              <li><a href="/moat/guides/ssh-access" class="text-gray-700 hover:text-blue-600 block">SSH Access</a></li>
              <li><a href="/moat/guides/secrets-management" class="text-gray-700 hover:text-blue-600 block">Secrets Management</a></li>
              <li><a href="/moat/guides/multi-agent" class="text-gray-700 hover:text-blue-600 block">Multi-Agent</a></li>
              <li><a href="/moat/guides/snapshots" class="text-gray-700 hover:text-blue-600 block">Snapshots</a></li>
            </ul>
          </div>

          <div>
            <h2 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">
              Reference
            </h2>
            <ul class="space-y-2">
              <li><a href="/moat/reference/cli" class="text-gray-700 hover:text-blue-600 block">CLI</a></li>
              <li><a href="/moat/reference/agent-yaml" class="text-gray-700 hover:text-blue-600 block">agent.yaml</a></li>
              <li><a href="/moat/reference/environment" class="text-gray-700 hover:text-blue-600 block">Environment</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </aside>

    <main class="flex-1 ml-64">
      <article class="max-w-4xl mx-auto px-8 py-12">
        <div class="prose prose-lg max-w-none">
          <slot />
        </div>
      </article>
    </main>
  </div>
</BaseLayout>
