---
import DocsLayout from '../../layouts/DocsLayout.astro';
import { getCollection } from 'astro:content';

const introDoc = await getCollection('moat').then(docs =>
  docs.find(doc => doc.id.includes('getting-started/01-introduction'))
);

const { Content } = introDoc ? await introDoc.render() : { Content: null };
---

<DocsLayout title="Moat Documentation" description="Run agents in containers with credential injection and full observability">
  <h1 class="font-serif text-5xl font-normal leading-tight tracking-tight mb-6 mt-12">
    Let agents break things <span class="text-sky-700 italic">safely</span>
  </h1>
  <div class="[&>h1:first-of-type]:hidden">
    {Content ? (
      <Content />
    ) : (
      <div class="bg-sky-100 border-l-2 border-sky-700 px-5 py-4 my-6">
        <p class="text-sm text-stone-700">
          Documentation is being updated. Please check the{' '}
          <a href="https://github.com/majorcontext/moat" class="text-sky-700 hover:text-sky-800 underline">
            GitHub repository
          </a>
          {' '}for the latest information.
        </p>
      </div>
    )}
  </div>
</DocsLayout>
